<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDB</title>
    <link rel="stylesheet" href="investimentos.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <a href="index.html" class="back-button">← Home</a>
            <h1><a href="https://www.infomoney.com.br/guias/cdb/" target="_blank">C D B</a></h1>
        </div>
    </header>

    <section class="intro">
        <div class="container">
            <h1>Aqui você encontrará todas as informações sobre o CDB</h1>
            <p>Nós transformamos seus sonhos em realidade.</p>
        </div>
    </section>

    <div class="container">
        <section class="services">
            <div class="service">
                <img src="img/Cifrao.avif" alt="CDB">
                <h2>Sua rentabilidade</h2>
                <p>Descubra quanto o seu dinheiro vale... e pode valer!</p>
            </div>
            <div class="service">
                <img src="img/apertodemão.avif" alt="CDB">
                <h2>Confiança para investir</h2>
                <p>Aqui você pode depositar sua confiança simular seu investimento conosco, <br>
                    nas melhores opções do mercado atual.</p>
            </div>
        </section>
    </div>

    <div class="containerInfoCDB">
        <section class="infoCDB">
            <h2>
                O CDB é um título de renda fixa emitido por bancos e instituições financeiras. Funciona como um empréstimo que o investidor faz ao banco. Em troca, 
                o banco se compromete a devolver o valor aplicado acrescido de juros em uma data futura. A remuneração pode ser prefixada, pós-fixada ou híbrida.
            </h2>
            <h2>
                A rentabilidade do CDB em 2024 irá depender da porcentagem do CDI, percentual que pode ser de 90%, 100%, 102%, ou seja, inúmeras variações. Em julho de 2024, a remuneração do CDB (Certificado de Depósito Bancário) está elevada porque a Taxa Selic está em 10,50% e o investimento é atrelado ao CDI (Certificado de Depósito Interbancário), que chegou a 10,40%. 

                Já no CDB pré-fixado, a rentabilidade é definida no momento do contrato e não está indexado a nenhum índice.
            </h2>
        </section>
            
           
            <!-- <label class="switch">
                <div class="toggle-switch">
                    <input id="switch" type="checkbox" />
            <label for="switch"></label>
                </div>
            </label> -->




            <!-- Button bonitinho -->
            <!-- <div class="infoCDBbtn">
                    <button class="btn" onClick="window.open('', '_blank')">
                        <span class="text-container">
                        <span class="text">Em quanto tempo terei o valor X?</span>
                        </span>
                    </button>
            </div> -->



<div class="contentOpcoes">
<div id="valor" class="tabcontent">
  <h1>Quanto terei com X valor?</h1>
  <p>Desta forma, você consegue simular o valor que terá em determinado tempo:</p>
</div>

<div id="tempo" class="tabcontent">
  <h1>Quanto terei em X tempo?</h1>
  <p>Desta forma, você consegue simular quanto tempo demorará para ter determinado valor:</p>
</div>

<button class="tablink" onclick="handleAbaValor(this)" id="defaultOpen">VALOR</button>
<button id="abaTempo" class="tablink" onclick="handleAbaTempo(this)">TEMPO</button>

</div> <!-- Finaliza a div da classe "contentOpcoes" -->


<script>
function handleAbaTempo(target){
    openTab('tempo', target, 'darkgrey')
    const infoCDB = document.getElementById('infoCDB')

    infoCDB.style.display = 'none'
}
function handleAbaValor(target){
    openTab('valor', target, 'darkgrey')
    const infoCDB = document.getElementById('infoCDB')

    infoCDB.style.display = 'block'
}



// Estilização de mudança de aba(valor e tempo)

function openTab(cityName,elmnt,color) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablink");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].style.backgroundColor = "";
  }
  document.getElementById(cityName).style.display = "block";
  elmnt.style.backgroundColor = color;

}
// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();
</script>

        <div id="infoCDB" class="infoCDB">
            <div class="inputs">
                <label for="investment">Valor do Investimento:</label>
                <input type="number" id="investment" placeholder="Valor do investimento" />
                <label for="cdbValor">Taxa do CDI:</label>
                <input type="number" id="cdiPorcentage" placeholder="Taxa do CDI" />
                <label for="cdbPercentage">Rendimento do CDB (%):</label>
                <input type="number" id="cdbPercentage" placeholder="Rendimento do CDB" />
                <label for="years">Tempo (anos):</label>
                <input type="number" id="years" placeholder="Tempo em anos" />
                <button onclick="updateChart()">Calcular</button>
            </div>
        
            <canvas id="cdbChart" width="400" height="200"></canvas>
        </div>




        <!-- Valor  -->

        <div id="infoCDB" class="infoCDB">
            <div class="inputs">

                <label for="valorInvestimento">Valor do Investimento:</label>
                <input type="number" id="investment" placeholder="Valor do investimento" />
                <label for="cdiTaxa">Taxa do CDI:</label>
                <input type="number" id="cdbPorcentagem" placeholder="Taxa do CDI" />
                <label for="cdbPorcentagem">Rendimento do CDB (%):</label>
                <input type="number" id="cdbPercentage" placeholder="Rendimento do CDB" />
                <label for="valorDesejado">Valor desejado:</label>
                <input type="number" id="valorDesejado" placeholder="Qual o valor desejado com o investimento?" />
            </div>
        </div>


    <footer>
        <div class="container">
            <p>&copy; 2024 Luis Felipe. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>

        function calculateRate(cdiRate, cdbRate){

            return cdiRate * cdbRate 
        }

        function calculateCDB(investment,CDIRate, CDBRate, years) {
            const FinalCDIRate = CDIRate / 100;
            const FinalCDBRate = CDBRate / 100;
            const finalRate = calculateRate(FinalCDIRate, FinalCDBRate);

            let values = [];
            for (let i = 0; i <= years; i++) {

                const value = investment * Math.pow(1 + finalRate, i);
                values.push(value.toFixed(2));
            }
            return values;
        }

        function updateChart() {
            const investment = parseFloat(document.getElementById('investment').value);
            const CDIRate = parseFloat(document.getElementById('cdiPorcentage').value);
            const CDBRate = parseFloat(document.getElementById('cdbPercentage').value);
            const years = parseInt(document.getElementById('years').value);

            if (isNaN(investment) || isNaN(CDIRate) || isNaN(CDBRate) || isNaN(years)) {
                alert('Por favor, insira valores válidos.');
                return;
            }

            const values = calculateCDB(investment, CDIRate, CDBRate, years);
            const labels = Array.from({length: years + 1}, (_, i) => i.toString());

            cdbChart.data.labels = labels;
            cdbChart.data.datasets[0].data = values;
            cdbChart.update();
        }

        const ctx = document.getElementById('cdbChart').getContext('2d');
        const cdbChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: 'Valor do Investimento',
                    data: [],
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });


        // Cálculo para descobrir a quantidade de tempo para atingir um valor X:
        function ValorFuturo(){
            
        }
    </script>
</body>
</html>
